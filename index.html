<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Моя игра</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #222;
            font-family: 'Press Start 2P', monospace;
            overflow: hidden;
        }
        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 10px;
            z-index: 1;
        }
        .grid img {
            width: 150px;
            height: 150px;
            cursor: pointer;
            border: 2px solid #fff;
        }
        video {
            position: fixed;
            top: 10%;
            left: 20%;
            width: 60%;
            height: auto;
            z-index: 1000;
            background: black;
        }
        .overlay {
            position: fixed;
            inset: 0;
            background: black;
            color: #fff;
            z-index: 1100;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .console {
            width: 90%;
            max-width: 900px;
            height: 70%;
            padding: 20px;
            box-sizing: border-box;
            overflow: hidden;
            font-family: 'Press Start 2P', monospace;
        }
        .line {
            white-space: pre;
            font-size: 16px;
            line-height: 1.5;
            font-family: 'Press Start 2P', monospace;
        }
        .green { color: #39ff14; }
        .white { color: #ffffff; }
        .question-box {
            position: fixed;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            z-index: 1200;
        }
        .question-box h1 {
            font-size: 30px;
            margin: 0 0 20px 0;
            font-family: 'Press Start 2P', monospace;
            color: #fff;
        }
        .question-box button {
            font-family: 'Press Start 2P', monospace;
            font-size: 16px;
            padding: 10px 20px;
            margin: 0 10px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
        }
        .btn-yes { background-color: #39ff14; color: black; }
        .btn-no { background-color: #ff1a1a; color: white; position: absolute; }
    </style>
</head>
<body>
    <div class="grid">
        <img src="PENIS1.png" onclick="handleClick(this, 0)">
        <img src="PENIS2.png" onclick="handleClick(this, 1)">
        <img src="PENIS3.png" onclick="handleClick(this, 2)">
        <img src="PENIS4.png" onclick="handleClick(this, 3)">
    </div>

    <script>
        const clicked = [false, false, false, false];
        let videoOpened = false;
        let videoElement = null;

        function handleClick(element, index) {
            alert("(ERROR_my_game1= 0) ЯРИК СУКА ВЕРНИ БЛЯДЬ 3 ГРИВНЫ НАХУЙ!!!");
            const originalSrc = element.src;
            element.src = "pezniz.png";
            setTimeout(() => { element.src = originalSrc; }, 500);

            clicked[index] = true;

            if (!videoOpened && clicked.every(v => v)) {
                videoOpened = true;
                videoElement = document.createElement("video");
                videoElement.src = "ёжики.mp4";
                videoElement.controls = true;
                videoElement.autoplay = true;
                videoElement.style.width = "60%";
                videoElement.style.position = "fixed";
                videoElement.style.top = "10%";
                videoElement.style.left = "20%";
                document.body.appendChild(videoElement);

                setTimeout(startFakeConsole, 12000);
            }
        }

        function startFakeConsole() {
            if (document.querySelector('.overlay')) return;
            const overlay = document.createElement('div');
            overlay.className = 'overlay';
            const consoleBox = document.createElement('div');
            consoleBox.className = 'console';
            overlay.appendChild(consoleBox);
            document.body.appendChild(overlay);

            const lines = [
                { text: 'download file "cocal"', color: 'white' },
                { text: 'done', color: 'green' },
                { text: 'Checking user profile "sdfdeedef2"', color: 'white' },
                { text: 'done', color: 'green' },
                { text: 'checking repository "E:\js_game 1"', color: 'white' },
                { text: 'done', color: 'green' },
                { text: 'Checking files in repository "E:\js_game 1"', color: 'white' },
                { text: 'done', color: 'green' },
                { text: 'found files:', color: 'green' },
                { text: '"index.html", "PENIS1.png", "PENIS2.png"', color: 'green' },
                { text: '"PENIS3.png", "PENIS4.png", "pezniz.png", "ёжики.mp4"', color: 'green' },
                { text: 'updating "index.html"', color: 'white' },
                { text: 'PERCENT_SEQUENCE', color: 'green' },
                { text: 'done', color: 'green' },
                { text: 'opening "index.html"', color: 'white' },
                { text: 'done', color: 'green' }
            ];

            let curLine = 0;
            function typeNextLine() {
                if (curLine >= lines.length) {
                    showQuestion();
                    return;
                }
                const info = lines[curLine++];
                if (info.text === 'PERCENT_SEQUENCE') {
                    const lineEl = document.createElement('div');
                    lineEl.className = 'line green';
                    consoleBox.appendChild(lineEl);
                    runPercent(lineEl, () => { setTimeout(typeNextLine, 300); });
                } else {
                    const lineEl = document.createElement('div');
                    lineEl.className = 'line ' + (info.color === 'green' ? 'green' : 'white');
                    consoleBox.appendChild(lineEl);
                    typeText(lineEl, info.text, 30, () => { setTimeout(typeNextLine, 300); });
                }
                consoleBox.scrollTop = consoleBox.scrollHeight;
            }

            function typeText(el, text, perCharMs, cb) {
                let i = 0;
                const t = setInterval(() => {
                    el.textContent += text[i++];
                    consoleBox.scrollTop = consoleBox.scrollHeight;
                    if (i >= text.length) { clearInterval(t); cb && cb(); }
                }, perCharMs);
            }

            function runPercent(el, doneCb) {
                let p = 1;
                el.textContent = p + '%';
                const fastMs = 30;
                const it = setInterval(() => {
                    p++;
                    el.textContent = p + '%';
                    consoleBox.scrollTop = consoleBox.scrollHeight;
                    if (p >= 100) { clearInterval(it); doneCb && doneCb(); }
                }, fastMs);
            }

            typeNextLine();
        }

        function showQuestion() {
            const questionBox = document.createElement('div');
            questionBox.className = 'question-box';
            questionBox.innerHTML = `
                <h1>СОСАЛ?</h1>
                <button class="btn-yes">ДА</button>
                <button class="btn-no">НЕТ</button>
            `;
            document.body.appendChild(questionBox);

            const yesBtn = questionBox.querySelector('.btn-yes');
            const noBtn = questionBox.querySelector('.btn-no');

            yesBtn.addEventListener('click', () => {
                questionBox.querySelector('h1').textContent = 'Я ТАК И ЗНАЛ!!!';
            });

            noBtn.addEventListener('click', () => {
                const x = Math.random() * (window.innerWidth - 100);
                const y = Math.random() * (window.innerHeight - 50);
                noBtn.style.left = x + 'px';
                noBtn.style.top = y + 'px';
            });
        }
    </script>
</body>
</html>
